# SQL 명령어
DDL, DML, DCL

# DDL 명령어 : 구조(테이블, 스키마)를 정의(생성, 수정, 삭제)하기 위한 명령어

- CREATE TABLE : 데이터베이스에 새로운 테이블을 만든다.
```sql
CREATE TABLE {테이블이름} (
  {칼럼이름} {데이터 타입} {제약조건}
  {칼럼이름} {데이터 타입} {제약조건}
  {칼럼이름} {데이터 타입} {제약조건}
  ...
);
```

- ALTER TABLE : 기존 테이블의 구조를 수정한다.
```sql
-- 1. 테이블 이름 바꾸기
ALTER TABLE {기존 테이블 이름} RENAME TO {새로운 테이블 이름};

-- 2. 컬럼 이름 바꾸기
ALTER TABLE {기존 테이블 이름} RENAME COLUMN {기존 컬럼 이름} TO {새 컬럼 이름};

-- 3. 새로운 컬럼 추가하기
ALTER TABLE {칼럼 추가할 테이블 이름} ADD COLUMN {추가할 칼럼 이름};
-- 테이블 생성할 때 처럼 칼럼의 데이터 타입, 제약조건을 걸 수 있음
-- 그런데 칼럼을 추가할때 제약조건에 NOT NULL을 걸경우 문제가 생긴다..!
-- 기존에 있던 데이터들은 새로운 칼럼에 대해서는 기본적으로 NULL이 작성이 된다.
-- 그런데 NOT NULL이 제약 조건이기 때문에 에러가 발생하는 것!!!
-- 그래서 이전 데이터들에 대하여 DEFAULT 값을 작성해 주면서 해결할 수 있다.
ALTER TABLE {칼럼 추가할 테이블 이름} ADD COLUMN {추가할 칼럼 이름} {데이터 타입} NOT NULL DEFAULT '{디폴트 값}';
-- DEFAULT 는 제약 조건 중 하나로서 사용될 수도 있다. 데이터 입력을 생략시에 자동으로 값을 채워줌

--4. 컬럼 삭제하기
ALTER TABLE {칼럼 삭제할 테이블 이름} DROP COLUMN {삭제할 칼럼 이름};
-- 그런데 삭제하지 못하는 경우가 있다.
-- 1. 해당 칼럼이 다른 부분에서 참조되는 경우 == FOREIGN KEY(외래 키) 제약조건에서 사용되는 경우
-- 2. PRIMARY KEY 인 경우
-- 3. UNIQUE 제약 조건이 있는 경우
```

- DROP TABLE : 데이터베이스에서 테이블을 제거한다.
```sql
DROP TABLE {테이블 이름};
-- 당연히 없는 테이블을 삭제하려 하면 오류발생
-- 한번에 하나의 테이블만 삭제 가능해서 여러개를 삭제하려면 명령어를 여러번 써야됨
-- 그.런.데
-- DROP TABLE 문은 실행 취소나 복구할 수 없다. 그래서 사용에 매우매우 주의를 기울여야 함.
-- 실제로 현업에서는 안쓴다고 봐도 된다고 함..!
```

# DML : 데이터를 조작(추가,조회,변경,삭제)하기 위한 명령어
aka CRUD

- INSERT
- SELECT : 간단하게 단일 테이블에서 데이터를 조회하기 READ
```SQL
SELECT {조회할 칼럼 이름 여러개 가능} FROM {테이블 이름};
SELECT * FROM {테이블 이름}; -- *(asterisk)를 사용하여 모든 컬럼 조회 가능

-- ORDER BY 를 이용하여 조회할때 정렬해서 조회하기
SELECT {칼럼1, 칼럼2} FROM {테이블 이름} ORDER BY {칼럼1} ASC, {칼럼2} DESC;
-- 이 명령어는 칼럼1을 오름차순(ASC; 디폴트)으로 칼럼2를 내림차순(DESC)으로 정렬한다.
-- 칼럼1을 우선 오름차순으로 정렬하고 같은 값에 대해서 칼럼2를 내림차순으로 정렬하게 됨.
-- ORDER BY 는 FROM 뒤에 위치해야 한다.
-- NULL 은 가장 작은 값으로 간주한다.

-- DISTINCT 를 이용하여 중복 없이 데이터를 조회하기
SELECT DISTINCT {칼럼} FROM {테이블} -- 칼럼이 중복되지 않게 조회
SELECT DISTINCT {칼럼1, 칼럼2} FROM {테이블} -- (칼럼1, 칼럼2)의 순서 쌍이 중복되지 않게 조회 집합느낌 
-- NULL은 모든 데이더의 중복으로 간주함.
-- 즉 NULL이 있는 컬럼에 DISTINCT를 적용하면 NULL값의 한 행만을 유지함
-- DISTINCT 는 SELECT 바로 뒤에 위치

-- WHERE 를 이용하여 특정 조건에 부합하는 데이터를 조회
SELECT {칼럼들} FROM {테이블} WHERE {조건} -- 기본틀
SELECT {칼럼들} FROM {테이블} WHERE {칼럼1} = 10 --예시
SELECT {칼럼들} FROM {테이블} WHERE {칼럼1} LIKE 'KO%' --예시
SELECT {칼럼들} FROM {테이블} WHERE {칼럼1} IN (1,2) --예시
SELECT {칼럼들} FROM {테이블} WHERE {칼럼1} BETWEEN 10 AND 20 --예시
-- LIKE 의 와일드 카드 % 와 _ 에 대해서
1. % : 0개 이상의 문자가 올 수 있다.
  예시 
2. _ : 단일(1개) 문자가 있다.

```
- UPDATE
- DELETE