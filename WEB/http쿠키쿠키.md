# HTTP Cookies

## HTTP - Hyper Text Transfer Protocol
HTML 문서와 같은 리소스들을 가져올 수 있도록 해주는 프로토콜

웹(www)에서 이루어진느 모든 데이터 교환의 기초

클라이언트-서버 프로토콜이라고도 한다.

기능은 크게 요청(클라이언트가)과 응답(서버가)이 있음.

## HTTP 특징
1. 비 연결 지향<br>
  서버는 요청에 대해 응답하고 연결을 끊음 (지속적으로 연결하고 있는 상태가 아니라는 것.)

2. 무상태<br>
  연결을 끝는 순간 클라와 서버간의 상태정보가 유지되지 않음.<br>
  클라와 서버가 주고 받는 메세지들은 서로 완전히 독립적이다.

## Cookies
HTTP의 클라-서버간의 상태유지를 위해 쿠키와 세션이 존재.
(우리가 웹페이지를 이동해서 우리의 로그인 상태는 유지되고 있다.)

서버가 사용자의 웹 브라우저에 전송하는 작은 데이터 조각이다.(응답안에 쿠키가 있음)

웹사이트를 방문랑 경우 웹사이트 서버를 통해 사용자의 컴퓨터에 설치되는 작은 기록 정보 파일<br>
저장해놨다가 동일한 서버에 재요청시에 저장된 쿠키를 함께 보내줌<br>
(요청안에 쿠키가 있음)

쿠키는 동일한 브라우저에서 들어왔는지 아닌지를 판단할 떄 주로 사용됨.

키-벨류 형태의 딕셔너리형으로 저장된다.


### 쿠키사용 목적
1. 세션관리<br>
로그인, 아이디 자동완성, 공지 하루 안보기, 팝업체크, 장바구니 등의 정보관리

2. 개인화<br>
개인테마 등

3. 트래킹<br>
사용자 행동 기록 분석

## 쿠기 : Session

사이트와 특정 부라우저 사이의 상태를 유지시키는 것

클라이언트의 서버 접속 -> 서버가 특정 seesion id 발급 -> 클라이언트는 seesion id를 쿠키에 저장 -> 클라이언트가 다시 동일한 서버에 접속하면 요청과 함께 쿠키(session id 가 저장된)를 전달 -> 서버가 session id 를 확인하고 관련된 로직을 처리

즉 쿠키는 session id 만을 저장하며 그에 해당하는 데이터는 서버가 가지고 있음. session id 는 세션을 구별하기 위해 필요.

## 쿠키 : 수명
1. Session cookie<br>
현재 세션이 종료되면 삭제됨<br>
브라우저 종료와 함께 세션이 삭제

2. Persistent cookies
Expire 속성에 지정된 날짜 혹은 Max-Age 속성에 지정된 기간이 지나면 삭제

## 쿠키 : 장고
django 는 database-backed seesions 저장 방식을 기본 값으로 사용함.<br>
정보는 django_session 테이블에 저장